\documentclass{sig-alternate}
%\documentclass[conference]{IEEEtran}
%\documentclass[conference,final]{IEEEtran}

\input{head}
\input{include}

\usepackage{listings}

\lstnewenvironment{code}[1][]%
{
\noindent
%\minipage{0.98 \linewidth} 
\minipage{1.0 \linewidth} 
\vspace{0.5\baselineskip}
\lstset{
    language=Python,
%    numbers=left,
%    numbersep=4pt,
    frame=single,
    captionpos=b,
    stringstyle=\ttfamily,
    basicstyle=\scriptsize\ttfamily,
    showstringspaces=false,#1}
}
{\endminipage}

\begin{document}
\conferenceinfo{HPDC'13}{2013, New York, USA}
% \conferenceinfo{ECMLS'11,} {June 8, 2011, San Jose, California, USA.}
% \CopyrightYear{2011}
% \crdata{978-1-4503-0702-4/11/06}
% \clubpenalty=10000
% \widowpenalty = 10000

\title{Pilot-Jobs Redux: The Untold Saga of Pilot-Jobs. \\ OR \\  A RADICAL
  Perspective on Pilot-Jobs}

% \alignauthor
% Ben Trovato\titlenote{Dr.~Trovato insisted his name be first.}\\
%        \affaddr{Institute for Clarity in Documentation}\\
%        \affaddr{1932 Wallamaloo Lane}\\
%        \affaddr{Wallamaloo, New Zealand}\\
%        \email{trovato@corporation.com}
% % 2nd. author
% \alignauthor
% G.K.M. Tobin\titlenote{The secretary disavows
% any knowledge of this author's actions.}\\
%        \affaddr{Institute for Clarity in Documentation}\\
%        \affaddr{P.O. Box 1212}\\
%        \affaddr{Dublin, Ohio 43017-6221}\\
%        \email{webmaster@marysville-ohio.com}
% % 3rd. author
% \alignauthor Lars Th{\o}rv{\"a}ld\titlenote{This author is the
% one who did all the really hard work.}\\
%        \affaddr{The Th{\o}rv{\"a}ld Group}\\
%        \affaddr{1 Th{\o}rv{\"a}ld Circle}\\
%        \affaddr{Hekla, Iceland}\\
%        \email{larst@affiliation.org}
% \and  % use '\and' if you need 'another row' of author names
% % 4th. author
% \alignauthor Lawrence P. Leipuner\\
%        \affaddr{Brookhaven Laboratories}\\
%        \affaddr{Brookhaven National Lab}\\
%        \affaddr{P.O. Box 5000}\\
%        \email{lleipuner@researchlabs.org}
% % 5th. author
% \alignauthor Sean Fogarty\\
%        \affaddr{NASA Ames Research Center}\\
%        \affaddr{Moffett Field}\\
%        \affaddr{California 94035}\\
%        \email{fogartys@amesres.org}
% % 6th. author
% \alignauthor Charles Palmer\\
%        \affaddr{Palmer Research Laboratories}\\
%        \affaddr{8600 Datapoint Drive}\\
%        \affaddr{San Antonio, Texas 78229}\\
%        \email{cpalmer@prl.com}
% }

\date{}
\maketitle

\begin{abstract} 
 The aim of this paper is to provide a simple survey of \pilotjobs, or
 as we will see capabilities that have are claimed to be \pilotjobs.
 In the pursuit of developing interoperable, extensible and
 general-purpose \pilotjobs we realized that there was no agreed upon
 definition or conceptual framewor of \pilotjobs. That led to the
 \pstar model. The aim of this work is not to discuss the \pstar
 conceptual framework, but to catalogue existing \pilotjobs, different
 aspects of \pilotjobs and illustrate how \pilotjobs have been used.
 Interestingly we find that \pilotjobs have been used even before they
 were named as such!

\end{abstract}

\section{Introduction} 

Why have \pilotjobs have successful? At least in part, due to the
decoupling between task/workload specification and task management.

The seamless uptake of distributed infrastructures by scientific
applications has been limited by the lack of pervasive and
simple-to-use abstractions at multiple levels – at the development,
deployment and execution stages. Of all the abstractions proposed to
support effective distributed resource utilization, a survey of actual
usage suggested that \pilotjobs were arguably one of the most
widely-used distributed computing abstractions – as measured by the
number and types of applications that use them, as well as the number
of production distributed cyberinfrastructures that support them.  

\jhanote{Needs more careful discussion/elaboration} The fundamental
reason for the success of the \pilotjob abstraction is that \pilotjob
liberate applications/users from the challenging requirement of
mapping specific tasks onto explicit heterogeneous and dynamic
resource pools. \pilotjobs also thus shields application from having
to load-balance tasks across such resources.  The \pilotjob
abstraction is also a promising route to address specific requirements
of distributed scientific applications, such as coupled-execution and
application-level
scheduling~\cite{ko-efficient,DBLP:conf/hpdc/KimHMAJ10}.

A variety of PJ frameworks have emerged: Condor-G/
Glide-in~\cite{condor-g}, Swift~\cite{Wilde2011},
DIANE~\cite{Moscicki:908910}, DIRAC~\cite{1742-6596-219-6-062049},
PanDA~\cite{1742-6596-219-6-062041}, ToPoS~\cite{topos},
Nimrod/G~\cite{10.1109/HPC.2000.846563}, Falkon~\cite{1362680} and
MyCluster~\cite{1652061} to name a few. Although they are all, for the
most parts, functionally equivalent -- they support the decoupling of
workload submission from resource assignment -- it is often impossible
to use them interoperably or even just to compare them functionally or
qualitatively.  The situation is reminiscent of the proliferation of
functionally similar yet incompatible workflow systems, where in spite
of significant a posteriori effort on workflow system extensibility
and interoperability (thus providing post-facto justification of its
needs), these objectives remains difficult if not infeasible.



\subsection{Prior Work}

Our initial investigation~\cite{Luckow:2008la} into
\pilot-Abstractions was motivated by the desire to provide a single
conceptual framework --- referred to as the P* Model, that would be
used to understand and reason the plethora and myriad \pilotjob
implementations that exist.

\jhanote{The below is legacy from pilotdata paper.. to be refined}


\section{A  Quick Survey of Existing Pilot-Jobs Systems}

The aim here is to develop both an understanding of what \pilotjobs
are and a listing of the different \pilotjobs, e.g. Swift, Condor
Glide-in, DIANE, DIRAC.

\jhanote{How do we choose which ones to survey or include in our
  survey, which ones do we not include?}
\mrnote{Recommend we be careful of the word 'survey' if we 
don't plan on being comprehensive}

A specific implementation of the P* model that both unified
conceptually as well as was interoperable across myriad grid
middleware \mrnote{needs language smoothing}, led to 
BigJob~\cite{saga_bigjob_condor_cloud} -- a
SAGA-based \pilotjob, which was used to support a range of
applications, ranging from uncoupled ensembles of molecular dynamics
(MD) simulations~\cite{saga_bigjob_condor_cloud}, to Ensemble-Kalman
filter based applications~\cite{gmac09} with global synchronization to
loosely-coupled MD simulations with pair-wise
synchronization~\cite{async_repex11}.  Although BigJob provided the
syntactical uniformity, i.e., a common API and framework for different
grids, our experience led us to understand that different \pilotjobs
had different semantics and capabilities, and made vast if not
inconsistent assumptions of applications/users. This motivated our
efforts in search of a common minimally complete model of \pilotjobs,
and resulted in the \pstar model~\cite{pstar12}. 


%thereby it is required by necessity to be general.

\jhanote{We need a structure to our survey of existing
  \pilotjobs. What might this be?}

There is an axes with a sliding scale of dependence/coupling to
infrastructure.  It is difficult to assign a single point of coupling,
betweeen \pilotjobs and the environment for like most other tools they
are often used in a variety of ways.  We will simply use ``general
purpose'' as a reference to the variety of (i) application types
(static versus dynamic, DAG versus) (ii) existence/requirement of
special purpose infrastructure (iii) functional extensibility and/or
modularity and/or coupling to environment.

\subsection{Historical Context}

\subsection{What have Pilot-Jobs been used For?}

\jhanote{This should provide a functional approach to pilot-jobs. Will
  make the job of explaining easier.}

\subsection{informal description of pilotjob systems}

\pilotjobs have existed on grid infrastructures for some time. 
Efficient load balancing and resource utilization
across the existing grid hardware drove the desire for 
user-level control of tasks and ease of use of job descriptions for
data driven applications.  \pilotjobs provide the ability to 
distribute workload across multiple systems and
provide an easy way to schedule many jobs at one time. This in turn
improves the utilization of resources, reduces the net wait time of a
collection of tasks, and also prevents saturation of resource batch
queuing systems from high-throughput simulations where many jobs
need to be run at one time.

One popular implementation of a \pilotjob is Condor Glide-in~\cite{glidein}. Glide-in is a mechanism by which user can add remote grid resources to the local condor pool and run their jobs on the added resource the same way that all condor jobs are submitted. The resources added are available only for the user who added the resource to the pool, thus giving complete control over the resources for managing jobs without any queue waiting time. Glide-in installs and executes necessary Condor daemons and configuration on the remote resource, such that the resource reports to and joins the local Condor pool. Glide-in is limited in that the daemons must be running on a given resource, meaning that this process must be approved by resource owners or system administrators. 

Given the interest and uptake of clouds, it is natural that the resource
balancing approaches of \pilotjobs would be employed for clouds too.
\pilotjobs were used at CERN on grid infrastructure to process experiments 
performed with the Large Hadron Collider~\cite{copilot-tr}. 
A desire to utilize a wider variety of computing resources, including enterprise and private clouds, to analyze such experiments drove the creation 
of  Co-Pilot~\cite{copilot-tr}, which acts as a layer on top of existing
grid/batch systems to allow job submission to clouds such as Amazon
EC2 or Scientific Clouds. CoPilot uses XMPP messaging to communicate between
the VMs and the grid infrastructure. Co-Pilot is based more on the actual
submission of jobs and is limited in its user-level controllability and 
allowance of application-level programming.

The Coaster system~\cite{coasters} is another \pilotjob implementation
which has been shown to work in both cloud and grid
environments. Using the Coaster service, one executes a Coaster Master
on a head node, and the Coaster workers run on compute nodes to
execute jobs. Coasters offers a zero-install feature in which it
deploys itself and installs itself from the head node and onto the
virtual machines without needing any prior installation on the
machine. In cloud mode, Coasters does require initial installation to
a head node. Coasters uses the CoG kit abstraction library for gram,
ssh, Condor, PBS, SGE middleware connections.
 
Venus-C~\cite{venusc-generic-worker} provides a \pilotjob-like
capability on Microsoft Azure clouds called a Generic Worker. The
Generic Worker creates a layer of abstraction above the inner workings
of the cloud.  The idea behind the Generic Worker is to allow
scientists to do their science without requiring knowledge of backend
HPC systems by offering e-Science as a service. Venus-C has not been
shown to work with grids, because its main objective is to motivate
scientists to use cloud infrastructures.  While the notion of moving
to the cloud for data-driven science is an important one, many
existing cyberinfrastructures still have powerful grid computers that
can also be leveraged to assist with the data-driven computations.

Co-Pilot, Coasters, and the Venus-C Generic Worker vary greatly in
their implementation details, but are all focused on extending
\pilotjob-like capabilities from grids to clouds.

\section{Understanding the Landscape: Developing a Vocabulary}

\jhanote{Having surveyed now let us develop the vocabulary.}

\jhanote{I think the main framework + concepts from P* can be used
  here? Any reason not to? What else can be used?}

\subsection{Different components of the Landscape}

\jhanote{Something akin to Matteo's diagram}


\subsection{Common Terms and Definitions}

\section{Pilot-Job Systems Revisited}

\subsection{Understanding Pilot-Jobs}

\jhanote{Having developed the vocabulary let us now talk about the
  different \pilotjobs}

\aznote{Revisit previous pilot-jobs using the vocabulary from the
previous section, pointing out the commonalities and overlap.}

\aznote{Example: Diane's RunMaster covers the role of the Pilot-Manager, and
the Pilot-Job is handled by Diane's worker agent.  This is similar to the 
BigJob and Swift-Coaster Pilot-Job implementations.  Condor-G may appear
different because of X, but in actuality...}

\aznote{Much of what I was thinking of doing is similar to the 2011 IPDPS paper
in the 2012-PStar directory.  Is this along the right lines?}

\aznote{A bit confused about how to tie this into conclusion and discussion:
``The need for a common minimum model'' in particular.  I am guessing that
I should help to ``set up'' that section by providing plenty of material showing
that the pilot job systems are very similar at their core.  How far should I
go with this, however, to avoid hitting the ``conclusion'' material in this section?
}

\section{Conclusion and Discussion}

\subsection{The need for a common minimum model}

%Whereas we will discuss in greater detail some of the concepts upon
%which this paper is built, for completeness we briefly outline them
%here.

Once a common and uniform conceptual model was available, the notion
of \pilotdata was conceived using the power of symmetry, i.e., the
notion of \pilotdata was as fundamental to dynamic data placement and
scheduling as \pilotjobs was to computational tasks. As a measure of
validity, the \pstar model was amenable and easily extensible to
\pilotdata.  The consistent and symmetrical treatment of data and
compute in the model led to the generalization of the model as the
{\it P* Model of Pilot Abstractions}.


\subsection{Lessons for Workflow System}

The current state of workflow (WF) systems~\cite{nsf-workflow,1196459}
provides a motivating example for the P* Model and the Pilot-API: even
though many WF systems exist (with significant duplicated effort),
they provide limited means for extensibility and interoperability.  We
are not naive enough to suggest a single reason, but assert that one
important contributing fact is the lack of the right interface
abstractions upon which to construct workflow systems; had those been
available, many/most WF engines would have likely utilized them (or
parts thereof), instead of proprietary solutions.

% That would not immediately allow WF implementations to interoperate,
% but would make semantic mapping between them significantly simpler,
% thus supporting the very notion of interoperation.

Significant effort has been invested towards WF interoperability at
different levels -- if nothing else, providing post-facto
justification of its importance. The impact of missing interface
abstractions on the WF world can be seen through the consequences of
their absence: WF interoperability remains difficult if not
infeasible. The Pilot-API in conjunction with the P* Model aims to
prevent similar situation for \pilotjobs.

%\footnote{To be fair: we are not sure if a generic model and/or a
%  generic WF API are achievable {\it on a useful level} -- we think,
%  nevertherless, that our discussion is valid.}



\section{Related Work}

\mrnote{We have a survey of related \pilotjobs systems, a 
'history' of \pilotjobs, and a related work section? Not sure
if we should condense in some way. PS Why is this after conclusion?}

\subsection{Scientific Data Management}



\section*{Acknowledgements}
This work is funded by NSF CHE-1125332 (Cyber-enabled Discovery and
Innovation), NSF-ExTENCI (OCI-1007115) and ``Collaborative Research:
Standards-Based Cyberinfrastructure for Hydrometeorologic Modeling:
US-European Research Partnership'' (OCI-1235085) and Department of
Energy Award (ASCR) DE-FG02-12ER26115.  This work has also been made
possible thanks to computer resources provided by TeraGrid TRAC award
TG-MCB090174 and BiG Grid.  This document was developed with support
from the US NSF under Grant No. 0910812 to Indiana University for
``FutureGrid: An Experimental, High-Performance Grid Test-bed''.

% \bibliographystyle{IEEEtran}
\bibliographystyle{abbrv}
\bibliography{pilotjob,literatur,saga,saga-related}


\end{document}

